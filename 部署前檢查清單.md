# ✅ Vercel 部署前檢查清單

在部署到 Vercel 之前，請確認以下項目：

---

## 📋 Google Sheets 設定

- [ ] Google Sheet 已建立
- [ ] 已建立「打卡紀錄」工作表
- [ ] **已建立「員工資料」工作表** ⭐ 重要！
- [ ] Google Sheet 已共用給 Service Account email
- [ ] 共用權限設為「編輯者」

### 如何檢查

1. 打開 Google Sheet: https://docs.google.com/spreadsheets/d/1ig8KuwFefSpDrUyLu6HwyOCFa0rKLtdpI9aV__IWCsY/edit
2. 下方應該有兩個分頁：
   - 打卡紀錄
   - 員工資料 ← **如果沒有，請新增！**

---

## 🔑 環境變數準備

- [ ] LINE_CHANNEL_ACCESS_TOKEN（已有）
- [ ] LINE_CHANNEL_SECRET（已有）
- [ ] GOOGLE_SHEET_ID（已有）
- [ ] GOOGLE_SERVICE_ACCOUNT_JSON（需準備）

### 準備 GOOGLE_SERVICE_ACCOUNT_JSON

```bash
# 打開 google-credentials.json
# 複製整個檔案的內容
# 包含大括號 {...}
```

**格式確認**：
- ✅ 開頭是 `{`
- ✅ 結尾是 `}`
- ✅ 包含 `private_key`
- ✅ 包含 `client_email`

---

## 🧪 本地測試

### Test 1: Google Sheets 連接

```bash
node test-google-sheets.js
```

預期結果：
- ✅ 成功連接到 Sheet
- ✅ 成功寫入測試資料
- ✅ Google Sheet 有新資料

### Test 2: 員工服務

```bash
node test-employee-service.js
```

預期結果：
- ✅ 成功註冊員工
- ✅ 重複註冊檢查正常
- ✅ 可以取得員工資料
- ✅ Google Sheet「員工資料」有新資料

### Test 3: LINE Bot（選用）

```bash
npm start
# 在另一個終端機
ngrok http 3000
# 在 LINE 測試打卡
```

預期結果：
- ✅ Bot 可以回應
- ✅ 可以註冊員工
- ✅ 可以打卡
- ✅ Google Sheets 兩個工作表都有資料

---

## 📦 Git 準備

- [ ] 已初始化 Git (`git init`)
- [ ] 已加入所有檔案 (`git add .`)
- [ ] 已建立 commit (`git commit -m "..."`)
- [ ] `.gitignore` 正確設定（不會上傳 .env 和 google-credentials.json）

### 檢查 .gitignore

```bash
git status
```

確認以下檔案**不在**清單中：
- ❌ `.env`
- ❌ `google-credentials.json`

如果看到這兩個檔案，請執行：
```bash
git rm --cached .env
git rm --cached google-credentials.json
git commit -m "Remove sensitive files"
```

---

## 🌐 GitHub 準備

- [ ] 已有 GitHub 帳號
- [ ] 已建立 Private Repository
- [ ] 已推送程式碼到 GitHub

### 建立 GitHub Repository

1. 前往: https://github.com/new
2. Repository 名稱: `line-checkin-bot`
3. 設定為: **Private** ⭐ 重要！
4. 不要勾選任何初始化選項
5. 點選「Create repository」

### 推送到 GitHub

```bash
git remote add origin https://github.com/你的帳號/line-checkin-bot.git
git branch -M main
git push -u origin main
```

---

## 🚀 Vercel 準備

- [ ] 已有 Vercel 帳號（用 GitHub 登入）
- [ ] 可以存取 GitHub Repository

---

## 📝 資料記錄

把以下資訊記錄下來，部署時會用到：

### LINE Bot 資訊
```
LINE_CHANNEL_ACCESS_TOKEN: [已記錄在 .env]
LINE_CHANNEL_SECRET: [已記錄在 .env]
```

### Google Sheets 資訊
```
GOOGLE_SHEET_ID: 1ig8KuwFefSpDrUyLu6HwyOCFa0rKLtdpI9aV__IWCsY
GOOGLE_SERVICE_ACCOUNT_JSON: [從 google-credentials.json 複製]
```

### GitHub 資訊
```
Repository URL: https://github.com/[你的帳號]/line-checkin-bot
```

---

## ⚠️ 重要提醒

### 必須完成的項目

1. ⭐ **Google Sheets 必須有「員工資料」工作表**
   - 沒有這個，註冊員工會失敗！

2. ⭐ **GitHub Repository 必須設為 Private**
   - 保護你的環境變數和設定

3. ⭐ **不要上傳 .env 和 google-credentials.json**
   - 這些是敏感資料！

---

## ✅ 全部確認後

如果所有項目都打勾了，你可以：

1. 參考 `VERCEL_DEPLOY.md` 開始部署
2. 或告訴我，我會引導你一步一步部署

---

**準備好了嗎？** 🚀

確認所有項目都打勾後，就可以開始部署到 Vercel！
